{% extends 'base.html' %}
{% load static %}
{% block title %}
    <title>Homepage</title>
{% endblock %}

{% block content %}
    
    <h1 class="text-center page-title">Bienvenue sur mon application Blog</h1>
    <!-- Blog Hero Section -->
    <section id="blog-hero" class="blog-hero section">

        <div class="container" data-aos="fade-up" data-aos-delay="100">
  
          <div class="blog-grid">
  
            <!-- Featured Post (Large) -->
            <article class="blog-item featured" data-aos="fade-up">
              <img src="{{ f_article.image.url }}" alt="Blog Image" class="img-fluid">
              <div class="blog-content">
                <div class="post-meta">
                  <span class="date">{{ f_article.date_publication }}</span>
                  <span class="category">{{ f_article.categorie.nom }}</span>
                </div>
                <h2 class="post-title">
                  <a href="{% url 'post_detail' type='article' id=f_article.id %}" title="{{ f_article.titre }}">{{ f_article.titre }}</a>
                </h2>
              </div>
            </article><!-- End Featured Post -->
  
            <!-- Regular Posts -->
            {% for article in articles %}
            <article class="blog-item" data-aos="fade-up" data-aos-delay="100">
              <img src="{{ article.image.url }}" alt="Blog Image" class="img-fluid">
              <div class="blog-content">
                <div class="post-meta">
                  <span class="date">{{article.date_publication}}</span>
                  <span class="category">{{article.categorie.nom}}</span>
                </div>
                <h3 class="post-title">
                  <a href="{% url 'post_detail' type='article' id=article.id %}" title="{{ article.titre }}">{{ article.titre }}</a>
                </h3>
              </div>
            </article><!-- End Blog Item -->
            {% endfor %}
  
          </div>
  
        </div>
  
    </section><!-- /Blog Hero Section -->
  
    <!-- Featured Posts Section -->
    <section id="featured-posts" class="featured-posts section">

        <!-- Section Title -->
        <div class="container section-title" data-aos="fade-up">
          <h2>Actualit√©s </h2>
          <div><span>Check Our</span> <span class="description-title">actualities</span></div>
        </div><!-- End Section Title -->
  
        <div class="container" data-aos="fade-up" data-aos-delay="100">
  
          <div class="blog-posts-slider swiper init-swiper">
            <script type="application/json" class="swiper-config">
              {
                "loop": true,
                "speed": 800,
                "autoplay": {
                  "delay": 5000
                },
                "slidesPerView": 3,
                "spaceBetween": 30,
                "breakpoints": {
                  "320": {
                    "slidesPerView": 1,
                    "spaceBetween": 20
                  },
                  "768": {
                    "slidesPerView": 2,
                    "spaceBetween": 20
                  },
                  "1200": {
                    "slidesPerView": 3,
                    "spaceBetween": 30
                  }
                }
              }
            </script>
  
            <div class="swiper-wrapper">
            {% for actualite in actualites %}
              <div class="swiper-slide">
                <div class="blog-post-item">
                  <img src="{{actualite.image}}" alt="Blog Image">
                  <div class="blog-post-content">
                    <div class="post-meta">
                      <span><i class="fa fa-person"></i> {{actalite.auteur}}</span>
                      <span><i class="fa fa-clock"></i> {{actualite.date_publication}}</span>
                      <span><i class="fa fa-chat-dots"></i> 6 Comments</span>
                    </div>
                    <h2><a href="{% url 'post_detail' type='actualite' id=actualite.id %}">{{actualite.titre|slice:":100"}}</p>
                    <a href="{{actualite.url}}" class="read-more">Read More <i class="fa fa-arrow-right"></i></a>
                  </div>
                </div>
              </div><!-- End slide item -->
            {% endfor %}
            </div>
  
          </div>
  
        </div>
  
      </section><!-- /Featured Posts Section -->
  
    <!-- Call To Action Section -->
    <section id="call-to-action" class="call-to-action section">
        <div class="container" data-aos="fade-up" data-aos-delay="100">
          <div class="row gy-4 justify-content-between align-items-center">
            <div class="col-lg-6">
              <div class="cta-content" data-aos="fade-up" data-aos-delay="200">
                <h2>Subscribe to our newsletter</h2>
                <p>Proin eget tortor risus. Mauris blandit aliquet elit, eget tincidunt nibh pulvinar a. Curabitur aliquet quam id dui posuere blandit.</p>
                <form action="forms/newsletter.php" method="post" class="php-email-form cta-form" data-aos="fade-up" data-aos-delay="300">
                  <div class="input-group mb-3">
                    <input type="email" class="form-control" placeholder="Email address..." aria-label="Email address" aria-describedby="button-subscribe">
                    <button class="btn btn-primary" type="submit" id="button-subscribe">Subscribe</button>
                  </div>
                  <div class="loading">Loading</div>
                  <div class="error-message"></div>
                  <div class="sent-message">Your subscription request has been sent. Thank you!</div>
                </form>
              </div>
            </div>
            <div class="col-lg-4">
              <div class="cta-image" data-aos="zoom-out" data-aos-delay="200">
                <img src="{% static 'images/cta-1.webp' %}" alt="" class="img-fluid">
              </div>
            </div>
          </div>
        </div>
      </section><!-- /Call To Action Section -->
  
{% endblock%}
